<!-- CoinBattle Overlay Editor -->
<div class="config-subsection">
  <h3>üé® Overlay Editor</h3>
  <div class="help-text" style="margin-bottom: 15px;">
    Positioniere alle Overlay-Elemente f√ºr verschiedene Aufl√∂sungen. Nutze das Grid-System (wie Schiffe versenken) f√ºr pr√§zise Platzierung.
  </div>

  <!-- Layout Management -->
  <div class="form-group">
    <label>Gespeicherte Layouts</label>
    <div class="button-group" style="margin-bottom: 10px;">
      <select id="overlayLayoutSelect" class="form-control" style="width: 250px; display: inline-block;">
        <option value="default_1920x1080">Standard 1920x1080</option>
        <option value="default_1280x720">Standard 1280x720</option>
        <option value="default_2560x1440">Standard 2560x1440</option>
        <!-- Custom layouts will be added dynamically -->
      </select>
      <button id="newOverlayLayoutBtn" class="btn btn-primary btn-sm">‚ûï Neues Layout</button>
      <button id="duplicateLayoutBtn" class="btn btn-secondary btn-sm">üìã Duplizieren</button>
      <button id="deleteLayoutBtn" class="btn btn-danger btn-sm">üóëÔ∏è L√∂schen</button>
    </div>
  </div>

  <!-- Layout Settings -->
  <div id="layoutSettingsPanel" class="panel" style="margin-bottom: 20px;">
    <div class="panel-header">
      <h4>Layout Einstellungen</h4>
    </div>
    <div class="panel-body">
      <div class="form-grid-2col">
        <div class="form-group">
          <label>Layout Name</label>
          <input type="text" id="overlayLayoutName" class="form-control" placeholder="Mein Custom Layout">
        </div>
        <div class="form-group">
          <label>Aufl√∂sung</label>
          <select id="overlayResolution" class="form-control">
            <option value="1920x1080">1920x1080 (Full HD)</option>
            <option value="1280x720">1280x720 (HD)</option>
            <option value="2560x1440">2560x1440 (2K)</option>
            <option value="3840x2160">3840x2160 (4K)</option>
            <option value="custom">Benutzerdefiniert</option>
          </select>
        </div>
        <div class="form-group" id="customWidthGroup" style="display: none;">
          <label>Breite (px)</label>
          <input type="number" id="overlayWidth" class="form-control" value="1920" min="800" max="3840">
        </div>
        <div class="form-group" id="customHeightGroup" style="display: none;">
          <label>H√∂he (px)</label>
          <input type="number" id="overlayHeight" class="form-control" value="1080" min="600" max="2160">
        </div>
      </div>
    </div>
  </div>

  <!-- Grid-Based Element Positioning -->
  <div class="help-text" style="background: #f0f9ff; border-left: 4px solid #3b82f6; padding: 12px; margin: 15px 0; border-radius: 4px;">
    <strong>üí° Grid-System (wie Schiffe versenken):</strong><br>
    ‚Ä¢ <strong>Spalte (X):</strong> A-Z (horizontal von links nach rechts)<br>
    ‚Ä¢ <strong>Zeile (Y):</strong> 1-20 (vertikal von oben nach unten)<br>
    ‚Ä¢ <strong>Gr√∂√üe:</strong> Vordefinierte Gr√∂√üen f√ºr konsistentes Layout<br>
    ‚Ä¢ <strong>Sichtbarkeit:</strong> Ein/Aus schalten mit Checkbox<br>
    ‚Ä¢ Beispiel: "C-5" = Spalte C, Zeile 5
  </div>

  <!-- Elements Configuration Table -->
  <div class="grid-config-table">
    <table class="element-config-table">
      <thead>
        <tr>
          <th>Element</th>
          <th>Spalte (X)</th>
          <th>Zeile (Y)</th>
          <th>Gr√∂√üe</th>
          <th>Sichtbar</th>
        </tr>
      </thead>
      <tbody>
        <!-- Solo Mode Leaderboard -->
        <tr data-element="leaderboard_solo">
          <td><strong>üèÜ Leaderboard (Solo)</strong></td>
          <td>
            <select class="grid-column" data-element="leaderboard_solo">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C" selected>C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
              <option value="H">H</option>
              <option value="I">I</option>
              <option value="J">J</option>
              <option value="K">K</option>
              <option value="L">L</option>
              <option value="M">M</option>
              <option value="N">N</option>
              <option value="O">O</option>
              <option value="P">P</option>
              <option value="Q">Q</option>
              <option value="R">R</option>
              <option value="S">S</option>
              <option value="T">T</option>
            </select>
          </td>
          <td>
            <input type="number" class="grid-row" data-element="leaderboard_solo" min="1" max="20" value="3">
          </td>
          <td>
            <select class="grid-size" data-element="leaderboard_solo">
              <option value="small">Klein (400x500)</option>
              <option value="medium" selected>Mittel (600x700)</option>
              <option value="large">Gro√ü (800x900)</option>
              <option value="xlarge">Extra Gro√ü (1000x1100)</option>
            </select>
          </td>
          <td>
            <input type="checkbox" class="grid-visible" data-element="leaderboard_solo" checked>
          </td>
        </tr>

        <!-- Team Red -->
        <tr data-element="team_red">
          <td><strong>üî¥ Team 1 (Anpassbar)</strong></td>
          <td>
            <select class="grid-column" data-element="team_red">
              <option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option><option value="$c">$c</option>
            </select>
          </td>
          <td>
            <input type="number" class="grid-row" data-element="team_red" min="1" max="20" value="3">
          </td>
          <td>
            <select class="grid-size" data-element="team_red">
              <option value="small">Klein (350x400)</option>
              <option value="medium" selected>Mittel (500x600)</option>
              <option value="large">Gro√ü (700x800)</option>
              <option value="xlarge">Extra Gro√ü (900x1000)</option>
            </select>
          </td>
          <td>
            <input type="checkbox" class="grid-visible" data-element="team_red" checked>
          </td>
        </tr>

        <!-- Team Blue -->
        <tr data-element="team_blue">
          <td><strong>üîµ Team 2 (Anpassbar)</strong></td>
          <td>
            <select class="grid-column" data-element="team_blue">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
              <option value="H">H</option>
              <option value="I">I</option>
              <option value="J">J</option>
              <option value="K">K</option>
              <option value="L">L</option>
              <option value="M">M</option>
              <option value="N">N</option>
              <option value="O" selected>O</option>
              <option value="P">P</option>
              <option value="Q">Q</option>
              <option value="R">R</option>
              <option value="S">S</option>
              <option value="T">T</option>
            </select>
          </td>
          <td>
            <input type="number" class="grid-row" data-element="team_blue" min="1" max="20" value="3">
          </td>
          <td>
            <select class="grid-size" data-element="team_blue">
              <option value="small">Klein (350x400)</option>
              <option value="medium" selected>Mittel (500x600)</option>
              <option value="large">Gro√ü (700x800)</option>
              <option value="xlarge">Extra Gro√ü (900x1000)</option>
            </select>
          </td>
          <td>
            <input type="checkbox" class="grid-visible" data-element="team_blue" checked>
          </td>
        </tr>

        <!-- Timer -->
        <tr data-element="timer">
          <td><strong>‚è±Ô∏è Timer</strong></td>
          <td>
            <select class="grid-column" data-element="timer">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
              <option value="H">H</option>
              <option value="I">I</option>
              <option value="J" selected>J</option>
              <option value="K">K</option>
              <option value="L">L</option>
              <option value="M">M</option>
              <option value="N">N</option>
              <option value="O">O</option>
              <option value="P">P</option>
              <option value="Q">Q</option>
              <option value="R">R</option>
              <option value="S">S</option>
              <option value="T">T</option>
            </select>
          </td>
          <td>
            <input type="number" class="grid-row" data-element="timer" min="1" max="20" value="1">
          </td>
          <td>
            <select class="grid-size" data-element="timer">
              <option value="small">Klein (150x150)</option>
              <option value="medium" selected>Mittel (200x200)</option>
              <option value="large">Gro√ü (250x250)</option>
              <option value="xlarge">Extra Gro√ü (300x300)</option>
            </select>
          </td>
          <td>
            <input type="checkbox" class="grid-visible" data-element="timer" checked>
          </td>
        </tr>

        <!-- Match Info -->
        <tr data-element="match_info">
          <td><strong>‚ÑπÔ∏è Match Info</strong></td>
          <td>
            <select class="grid-column" data-element="match_info">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
              <option value="H">H</option>
              <option value="I">I</option>
              <option value="J" selected>J</option>
              <option value="K">K</option>
              <option value="L">L</option>
              <option value="M">M</option>
              <option value="N">N</option>
              <option value="O">O</option>
              <option value="P">P</option>
              <option value="Q">Q</option>
              <option value="R">R</option>
              <option value="S">S</option>
              <option value="T">T</option>
            </select>
          </td>
          <td>
            <input type="number" class="grid-row" data-element="match_info" min="1" max="20" value="18">
          </td>
          <td>
            <select class="grid-size" data-element="match_info">
              <option value="small" selected>Klein (300x80)</option>
              <option value="medium">Mittel (400x100)</option>
              <option value="large">Gro√ü (500x120)</option>
              <option value="xlarge">Extra Gro√ü (600x150)</option>
            </select>
          </td>
          <td>
            <input type="checkbox" class="grid-visible" data-element="match_info" checked>
          </td>
        </tr>

        <!-- KOTH King Badge -->
        <tr data-element="koth_king">
          <td><strong>üëë KOTH King Badge</strong></td>
          <td>
            <select class="grid-column" data-element="koth_king">
              <option value="A" selected>A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
              <option value="H">H</option>
              <option value="I">I</option>
              <option value="J">J</option>
              <option value="K">K</option>
              <option value="L">L</option>
              <option value="M">M</option>
              <option value="N">N</option>
              <option value="O">O</option>
              <option value="P">P</option>
              <option value="Q">Q</option>
              <option value="R">R</option>
              <option value="S">S</option>
              <option value="T">T</option>
            </select>
          </td>
          <td>
            <input type="number" class="grid-row" data-element="koth_king" min="1" max="20" value="1">
          </td>
          <td>
            <select class="grid-size" data-element="koth_king">
              <option value="small" selected>Klein (200x100)</option>
              <option value="medium">Mittel (300x150)</option>
              <option value="large">Gro√ü (400x200)</option>
              <option value="xlarge">Extra Gro√ü (500x250)</option>
            </select>
          </td>
          <td>
            <input type="checkbox" class="grid-visible" data-element="koth_king" checked>
          </td>
        </tr>

        <!-- Challenge Notification -->
        <tr data-element="challenge_notification">
          <td><strong>ü§ù Challenge Benachrichtigung</strong></td>
          <td>
            <select class="grid-column" data-element="challenge_notification">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="G">G</option>
              <option value="H">H</option>
              <option value="I">I</option>
              <option value="J" selected>J</option>
              <option value="K">K</option>
              <option value="L">L</option>
              <option value="M">M</option>
              <option value="N">N</option>
              <option value="O">O</option>
              <option value="P">P</option>
              <option value="Q">Q</option>
              <option value="R">R</option>
              <option value="S">S</option>
              <option value="T">T</option>
            </select>
          </td>
          <td>
            <input type="number" class="grid-row" data-element="challenge_notification" min="1" max="20" value="10">
          </td>
          <td>
            <select class="grid-size" data-element="challenge_notification">
              <option value="small">Klein (400x150)</option>
              <option value="medium" selected>Mittel (600x200)</option>
              <option value="large">Gro√ü (800x250)</option>
              <option value="xlarge">Extra Gro√ü (1000x300)</option>
            </select>
          </td>
          <td>
            <input type="checkbox" class="grid-visible" data-element="challenge_notification" checked>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Visual Grid Preview -->
  <div class="help-text" style="margin-top: 20px; margin-bottom: 10px;">
    <strong>üìä Visuelle Vorschau:</strong> Die unten gezeigte Vorschau zeigt die Elemente in ihrer Position im Grid.
  </div>
  <div class="grid-visual-preview" id="coinbattleGridPreview" style="position: relative; width: 100%; height: 600px; background: #1a1a2e; border: 2px solid #3b82f6; border-radius: 8px; overflow: hidden;">
    <div class="grid-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
      <!-- Grid lines will be added dynamically -->
    </div>
    <div class="grid-elements" id="coinbattleGridElements" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
      <!-- Elements will be positioned here based on grid settings -->
    </div>
  </div>

  <div class="button-group" style="margin-top: 15px;">
    <button id="saveOverlayLayoutBtn" class="btn btn-primary">üíæ Layout Speichern</button>
    <button id="exportLayoutBtn" class="btn btn-secondary">üì§ Exportieren</button>
    <button id="importLayoutBtn" class="btn btn-secondary">üì• Importieren</button>
    <button id="resetLayoutBtn" class="btn btn-danger">üîÑ Auf Standard zur√ºcksetzen</button>
  </div>
  <div id="overlayLayoutMessage" class="message hidden"></div>
</div>


